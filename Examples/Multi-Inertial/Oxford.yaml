%YAML:1.0

#--------------------------------------------------------------------------------------------
# Camera Parameters. Adjust them!
#--------------------------------------------------------------------------------------------
File.version: "1.0"

Camera.type: "KannalaBrandt8"

# Left Camera calibration and distortion parameters (OpenCV)
Camera1.fx: 352.538 #
Camera1.fy: 354.508 #
Camera1.cx: 363.856 #
Camera1.cy: 287.494 #

# Equidistant distortion parameters
Camera1.k1: -0.04314 #
Camera1.k2: 0.00100 #
Camera1.k3: -0.00286 #
Camera1.k4: 0.00069 #

# Right Camera calibration and distortion parameters (OpenCV)
Camera2.fx: 352.779 #
Camera2.fy: 354.609 #
Camera2.cx: 359.035 #
Camera2.cy: 260.546 #

# Equidistant distortion parameters
Camera2.k1: -0.04217 #
Camera2.k2: -0.00413 #
Camera2.k3: 0.00179 #
Camera2.k4: -0.00063 #

# Side-Left Camera calibration and distortion parameters (OpenCV)
Camera3.fx: 351.3873118634877 #
Camera3.fy: 350.7642336259401 #
Camera3.cx: 342.7571148078969 #
Camera3.cy: 287.284844843618 #

# Equidistant distortion parameters
Camera3.k1: -0.03691139827164534 #
Camera3.k2: -0.008792737141233907 #
Camera3.k3: 0.005972994670065676 #
Camera3.k4: -0.0019218526270038702 #

# Side-Right Camera calibration and distortion parameters (OpenCV)
Camera4.fx: 353.4771977455599 #
Camera4.fy: 352.49309892170646 #
Camera4.cx: 359.3820102818009 #
Camera4.cy: 246.0762257814033 #

# Equidistant distortion parameters
Camera4.k1: -0.03932015398330179 #
Camera4.k2: -0.004740697084133104 #
Camera4.k3: 0.0015352229232181549 #
Camera4.k4: -0.0004047224742092007 #


# Transformation matrix from right camera to left camera
Stereo.T_c1_c2: !!opencv-matrix
  rows: 4
  cols: 4
  dt: f
  data: [ 0.999933996, 0.00886700973, 0.00730608211, 0.110673624,
          -0.00887259282, 0.99996037, 0.00073211215, 0.000215523417,
          -0.00729930092, -0.00079688772, 0.999973042, -0.000436275164,
          0, 0, 0, 1]

# Overlapping area between images (to be updated)
Camera1.overlappingBegin: 0
Camera1.overlappingEnd: 720

Camera2.overlappingBegin: 0
Camera2.overlappingEnd: 720

Camera3.overlappingBegin: 0   #Left and Side Left
Camera3.overlappingEnd: 720

Camera4.overlappingBegin: 0   #Right and Side Right
Camera4.overlappingEnd: 720

# Camera resolution
Camera.width: 720
Camera.height: 540

# Camera frames per second
Camera.fps: 30

# Color order of the images (0: BGR, 1: RGB. It is ignored if images are grayscale)
Camera.RGB: 1

# Close/Far threshold. Baseline times.
Stereo.ThDepth: 40.0

# Transformation from left camera to body-frame (imu) 
IMU.T_b_c1: !!opencv-matrix
  rows: 4
  cols: 4
  dt: f
  data: [ 0.00343916, -0.00100545, 0.99999358, 0.04922168,
          0.99997599,  0.00601977, -0.00343304, 0.04723672,
        -0.00601628,  0.99998138,  0.00102613, -0.00939957,
          0, 0, 0, 1]

# Transformation from side-left camera to body-frame (imu)
IMU.T_b_c3: !!opencv-matrix
  rows: 4
  cols: 4
  dt: f
  data: [ 0.9999610215303227, -0.007327003715155784, -0.004926503485444278, 0.006424725175247257,
          0.00491142034216384, -0.002075139726263109, 0.9999857857716477, 0.011005034680181396,
        -0.007337122750546055, -0.999971003985453, -0.0020390728453983376, -0.07169763994549559,
          0, 0, 0, 1]


# Transformation from side-right camera to body-frame (imu)
IMU.T_b_c4: !!opencv-matrix
  rows: 4
  cols: 4
  dt: f
  data: [-0.9999743144465644, 0.004318832408330448, 0.005719976726504022, -0.008943421394186855,
          0.005684125220267671, -0.008268338990343663, 0.9999496613784219, 0.00921260842854922,
          0.004365909710851799, 0.9999564901819323, 0.008243577829266399, -0.05832789520130846,
          0, 0, 0, 1]


# IMU noise
IMU.NoiseGyro: 0.000171 # 0.004 (VINS) # 0.00016 (TUM) # 0.00016    # rad/s^0.5
IMU.NoiseAcc: 0.0086 # 0.04 (VINS) # 0.0028 (TUM) # 0.0028     # m/s^1.5
IMU.GyroWalk: 3.1e-06 # 0.000022 (VINS and TUM) rad/s^1.5
IMU.AccWalk: 0.00022 # 0.0004 (VINS) # 0.00086 # 0.00086    # m/s^2.5
IMU.Frequency: 400.0

#--------------------------------------------------------------------------------------------
# ORB Parameters
#--------------------------------------------------------------------------------------------

# ORB Extractor: Number of features per image
ORBextractor.nFeatures: 1250

# ORB Extractor: Scale factor between levels in the scale pyramid
ORBextractor.scaleFactor: 1.2

# ORB Extractor: Number of levels in the scale pyramid
ORBextractor.nLevels: 8

# ORB Extractor: Fast threshold
# Image is divided in a grid. At each cell FAST are extracted imposing a minimum response.
# Firstly we impose iniThFAST. If no corners are detected we impose a lower value minThFAST
# You can lower these values if your images have low contrast
ORBextractor.iniThFAST: 15
ORBextractor.minThFAST: 7

#--------------------------------------------------------------------------------------------
# Viewer Parameters
#--------------------------------------------------------------------------------------------
Viewer.KeyFrameSize: 0.05
Viewer.KeyFrameLineWidth: 1.0
Viewer.GraphLineWidth: 0.9
Viewer.PointSize: 2.0
Viewer.CameraSize: 0.08
Viewer.CameraLineWidth: 3.0
Viewer.ViewpointX: 0.0
Viewer.ViewpointY: -0.7
Viewer.ViewpointZ: -3.5
Viewer.ViewpointF: 500.0
Viewer.imageViewScale: 0.45

#--------------------------------------------------------------------------------------------
# Map Parameters
#--------------------------------------------------------------------------------------------
# If the LoadFile doesn't exist, the system give a message and create a new Atlas from scratch
#System.LoadAtlasFromFile: "saved_map"
#
# The store file is created from the current session, if a file with the same name exists it is deleted
#System.SaveAtlasToFile: "saved_map"
